# ğŸš€ OshiTalk æŠ€è¡“ä»•æ§˜æ›¸

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**OshiTalkï¼ˆã‚ªã‚·ãƒˆãƒ¼ã‚¯ï¼‰** - ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ã¨ãƒ•ã‚¡ãƒ³ã‚’ã¤ãªãã€1å¯¾1ãƒ“ãƒ‡ã‚ªé€šè©±ã‚ªãƒ¼ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
- **ãƒ©ã‚¤ã‚»ãƒ³ã‚¹**: ISC
- **é–‹ç™ºç’°å¢ƒ**: Node.js, TypeScript, React

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Vite + React)       â”‚
â”‚  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹                      â”‚
â”‚  - Stripe Elementsï¼ˆã‚«ãƒ¼ãƒ‰å…¥åŠ›ï¼‰                 â”‚
â”‚  - Daily.coï¼ˆãƒ“ãƒ‡ã‚ªé€šè©±UIï¼‰                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Express + Node.js)         â”‚
â”‚  - Stripe APIï¼ˆæ±ºæ¸ˆå‡¦ç†ï¼‰                        â”‚
â”‚  - Daily.co APIï¼ˆãƒ«ãƒ¼ãƒ ç®¡ç†ï¼‰                    â”‚
â”‚  - Supabase Service Role Keyï¼ˆç®¡ç†è€…æ¨©é™ï¼‰      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Supabaseï¼ˆBaaSï¼‰                        â”‚
â”‚  - PostgreSQLï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰                    â”‚
â”‚  - Authenticationï¼ˆèªè¨¼ï¼‰                        â”‚
â”‚  - Storageï¼ˆç”»åƒä¿å­˜ï¼‰                           â”‚
â”‚  - Row Level Securityï¼ˆRLSï¼‰                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

### ã‚³ã‚¢ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼
| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| **React** | 18.3.1 | UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| **TypeScript** | 5.5.3 | å‹å®‰å…¨ãªé–‹ç™º |
| **Vite** | 5.4.2 | ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ« |
| **React Router DOM** | 6.30.1 | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° |

### UI/ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| **Tailwind CSS** | 3.4.1 | CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| **PostCSS** | 8.4.35 | CSSå¤‰æ› |
| **Autoprefixer** | 10.4.18 | ãƒ™ãƒ³ãƒ€ãƒ¼ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ |
| **Lucide React** | 0.344.0 | ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |

### çŠ¶æ…‹ç®¡ç†ãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| **Zustand** | 5.0.8 | è»½é‡çŠ¶æ…‹ç®¡ç† |
| **date-fns** | 4.1.0 | æ—¥ä»˜å‡¦ç† |

### ä¸»è¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----------|-----------|------|
| **@supabase/supabase-js** | 2.57.4 | Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ |
| **@stripe/stripe-js** | 8.0.0 | Stripe JavaScript SDK |
| **@stripe/react-stripe-js** | 5.2.0 | Stripe React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |
| **@daily-co/daily-js** | 0.84.0 | Daily.co JavaScript SDK |
| **@daily-co/daily-react** | 0.23.2 | Daily.co React ãƒ•ãƒƒã‚¯ |

### é–‹ç™ºãƒ„ãƒ¼ãƒ«
| ãƒ„ãƒ¼ãƒ« | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-------|-----------|------|
| **ESLint** | 9.9.1 | ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ |
| **TypeScript ESLint** | 8.3.0 | TypeScriptç”¨ESLint |

---

## âš™ï¸ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

### ã‚³ã‚¢ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼
| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| **Node.js** | 18.xä»¥ä¸Š | JavaScriptå®Ÿè¡Œç’°å¢ƒ |
| **Express** | 5.1.0 | Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| **TypeScript** | 5.9.3 | å‹å®‰å…¨ãªé–‹ç™º |

### ä¸»è¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----------|-----------|------|
| **Stripe** | 19.1.0 | æ±ºæ¸ˆå‡¦ç†SDK |
| **@supabase/supabase-js** | 2.74.0 | Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ |
| **Axios** | 1.12.2 | HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ |
| **CORS** | 2.8.5 | CORSè¨­å®š |
| **dotenv** | 17.2.3 | ç’°å¢ƒå¤‰æ•°ç®¡ç† |

### é–‹ç™ºãƒ„ãƒ¼ãƒ«
| ãƒ„ãƒ¼ãƒ« | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-------|-----------|------|
| **ts-node** | 10.9.2 | TypeScriptå®Ÿè¡Œ |
| **Nodemon** | 3.1.10 | ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ |
| **@types/node** | 24.7.0 | Node.jså‹å®šç¾© |
| **@types/express** | 5.0.3 | Expresså‹å®šç¾© |
| **@types/cors** | 2.8.19 | CORSå‹å®šç¾© |

---

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹

### Supabaseï¼ˆPostgreSQLï¼‰

#### èªè¨¼
- **Supabase Auth**
- Google OAuth 2.0
- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ + ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼
- JWTï¼ˆJSON Web Tokenï¼‰ãƒ™ãƒ¼ã‚¹

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **PostgreSQL** (Supabaseç®¡ç†)
- **Row Level Security (RLS)** - ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ¬ãƒ™ãƒ«ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³**ï¼ˆå°†æ¥å®Ÿè£…å¯èƒ½ï¼‰

#### ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«
| ãƒ†ãƒ¼ãƒ–ãƒ« | ç”¨é€” |
|---------|------|
| `users` | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ï¼ˆãƒ•ã‚¡ãƒ³ãƒ»ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼çµ±åˆï¼‰ |
| `call_slots` | ãƒˆãƒ¼ã‚¯æ æƒ…å ± |
| `auctions` | ã‚ªãƒ¼ã‚¯ã‚·ãƒ§ãƒ³æƒ…å ± |
| `bids` | å…¥æœ­æƒ…å ± |
| `purchased_slots` | è³¼å…¥æ¸ˆã¿æ ï¼ˆè½æœ­å¾Œï¼‰ |
| `payment_transactions` | æ±ºæ¸ˆå±¥æ­´ |
| `reviews` | ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»è©•ä¾¡ |

#### ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- **Supabase Storage**
- ãƒã‚±ãƒƒãƒˆ: `profile-images`, `talk-images`
- å¯¾å¿œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: JPEG, PNG, WebP
- æœ€å¤§ã‚µã‚¤ã‚º: 5MB

#### ãƒ“ãƒ¥ãƒ¼
- `active_auctions_view` - ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚ªãƒ¼ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§

#### RPCé–¢æ•°
- `update_user_statistics()` - ãƒ¦ãƒ¼ã‚¶ãƒ¼çµ±è¨ˆã®æ›´æ–°

---

## ğŸ’³ æ±ºæ¸ˆã‚µãƒ¼ãƒ“ã‚¹

### Stripe

#### APIãƒãƒ¼ã‚¸ãƒ§ãƒ³
- **Stripe API**: Latest (19.1.0 SDK)
- **ãƒ¢ãƒ¼ãƒ‰**: ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ / æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰

#### ä¸»è¦æ©Ÿèƒ½
| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| **Customer** | é¡§å®¢ç®¡ç† |
| **SetupIntent** | ã‚«ãƒ¼ãƒ‰ç™»éŒ² |
| **PaymentIntent** | æ±ºæ¸ˆå‡¦ç† |
| **Payment Method** | æ”¯æ‰•ã„æ–¹æ³•ç®¡ç† |

#### æ±ºæ¸ˆãƒ•ãƒ­ãƒ¼
1. **ã‚«ãƒ¼ãƒ‰ç™»éŒ²**: SetupIntent â†’ PaymentMethodä¿å­˜
2. **ä¸ä¿¡ç¢ºä¿**: PaymentIntentä½œæˆï¼ˆmanual captureï¼‰
3. **æ±ºæ¸ˆç¢ºå®š**: PaymentIntent capture
4. **ã‚­ãƒ£ãƒ³ã‚»ãƒ«**: PaymentIntent cancel

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **Stripe Elements**: PCI DSSæº–æ‹ ã®ã‚«ãƒ¼ãƒ‰å…¥åŠ›UI
- **ãƒˆãƒ¼ã‚¯ãƒ³åŒ–**: ã‚«ãƒ¼ãƒ‰æƒ…å ±ã‚’ç›´æ¥æ‰±ã‚ãªã„
- **Webhook**: ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ï¼ˆå°†æ¥å®Ÿè£…å¯èƒ½ï¼‰

---

## ğŸ“¹ ãƒ“ãƒ‡ã‚ªé€šè©±ã‚µãƒ¼ãƒ“ã‚¹

### Daily.co

#### SDK
- **@daily-co/daily-js**: 0.84.0
- **@daily-co/daily-react**: 0.23.2

#### ä¸»è¦æ©Ÿèƒ½
| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| **Room Creation** | é€šè©±ãƒ«ãƒ¼ãƒ ä½œæˆ |
| **Meeting Token** | èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ |
| **Prebuilt UI** | çµ„ã¿è¾¼ã¿ãƒ“ãƒ‡ã‚ªé€šè©±UI |
| **Room Management** | ãƒ«ãƒ¼ãƒ æƒ…å ±å–å¾—ãƒ»å‰Šé™¤ |

#### ãƒ«ãƒ¼ãƒ è¨­å®š
```javascript
{
  privacy: 'private',           // ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ«ãƒ¼ãƒ 
  max_participants: 2,          // æœ€å¤§2äºº
  nbf: scheduled_time - 15åˆ†,   // 15åˆ†å‰ã‹ã‚‰å…¥å®¤å¯
  exp: scheduled_time + é€šè©±æ™‚é–“ + 10åˆ†, // çµ‚äº†å¾Œ10åˆ†ã¾ã§æœ‰åŠ¹
  enable_chat: true,            // ãƒãƒ£ãƒƒãƒˆæœ‰åŠ¹
  enable_screenshare: true,     // ç”»é¢å…±æœ‰æœ‰åŠ¹
  enable_noise_cancellation_ui: true // ãƒã‚¤ã‚ºã‚­ãƒ£ãƒ³ã‚»ãƒ«
}
```

#### ãƒˆãƒ¼ã‚¯ãƒ³è¨­å®š
```javascript
{
  room_name: 'call-{purchasedSlotId}',
  user_name: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å',
  user_id: 'uuid',
  is_owner: ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ã‹ã©ã†ã‹,
  exp: 24æ™‚é–“å¾Œ
}
```

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ã‚¤ãƒ³ãƒ•ãƒ©

### Heroku

#### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ§‹æˆ
- **ã‚¢ãƒ—ãƒªå**: oshicall
- **ã‚¹ã‚¿ãƒƒã‚¯**: heroku-24
- **ãƒ“ãƒ«ãƒ‰ãƒ‘ãƒƒã‚¯**: heroku/nodejs
- **ãƒªãƒ¼ã‚¸ãƒ§ãƒ³**: US

#### ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹å¼
- **çµ±åˆãƒ‡ãƒ—ãƒ­ã‚¤**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ + ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **ãƒ“ãƒ«ãƒ‰**: `npm run build`ï¼ˆä¸¡æ–¹ã‚’ãƒ“ãƒ«ãƒ‰ï¼‰
- **èµ·å‹•**: `npm start`ï¼ˆExpressçµŒç”±ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é…ä¿¡ï¼‰

#### ç’°å¢ƒå¤‰æ•°
```bash
# Supabase
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
SUPABASE_URL=https://your-project.supabase.co

# Stripe
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_xxx
STRIPE_SECRET_KEY=sk_test_xxx

# Daily.co
DAILY_API_KEY=your_daily_api_key
DAILY_DOMAIN=your-subdomain.daily.co

# ãã®ä»–
FRONTEND_URL=https://your-app.herokuapp.com
VITE_BACKEND_URL=ï¼ˆç©º - ç›¸å¯¾ãƒ‘ã‚¹ä½¿ç”¨ï¼‰
```

#### ãƒãƒ¼ãƒˆ
- **æœ¬ç•ª**: `process.env.PORT`ï¼ˆHerokuè‡ªå‹•å‰²å½“ï¼‰
- **é–‹ç™º**: 3001ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰, 5173ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### èªè¨¼ãƒ»èªå¯
- **Supabase Auth**: JWT ãƒ™ãƒ¼ã‚¹ã®èªè¨¼
- **Row Level Security**: PostgreSQLãƒ¬ãƒ™ãƒ«ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- **Service Role Key**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿ã§ä½¿ç”¨ï¼ˆç®¡ç†è€…æ¨©é™ï¼‰

### ãƒ‡ãƒ¼ã‚¿ä¿è­·
- **ç’°å¢ƒå¤‰æ•°**: æ©Ÿå¯†æƒ…å ±ã¯ç’°å¢ƒå¤‰æ•°ã§ç®¡ç†
- **HTTPS**: ã™ã¹ã¦ã®é€šä¿¡ã‚’æš—å·åŒ–
- **CORS**: è¨±å¯ã•ã‚ŒãŸã‚ªãƒªã‚¸ãƒ³ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½

### æ±ºæ¸ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **PCI DSSæº–æ‹ **: Stripe Elementsã‚’ä½¿ç”¨
- **ãƒˆãƒ¼ã‚¯ãƒ³åŒ–**: ã‚«ãƒ¼ãƒ‰æƒ…å ±ã‚’ç›´æ¥æ‰±ã‚ãªã„
- **Manual Capture**: ä¸ä¿¡ç¢ºä¿å¾Œã«æ‰‹å‹•æ±ºæ¸ˆ

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
oshicall/
â”œâ”€â”€ src/                    # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚½ãƒ¼ã‚¹
â”‚   â”œâ”€â”€ api/               # APIé–¢æ•°
â”‚   â”œâ”€â”€ components/        # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ contexts/          # Context API
â”‚   â”œâ”€â”€ lib/              # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ pages/            # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ types/            # TypeScriptå‹å®šç¾©
â”œâ”€â”€ backend/               # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚½ãƒ¼ã‚¹
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ routes/       # APIãƒ«ãƒ¼ãƒˆ
â”‚       â”œâ”€â”€ utils/        # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â””â”€â”€ server.ts     # ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒãƒ¼
â”œâ”€â”€ public/               # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ dist/                 # ãƒ“ãƒ«ãƒ‰å‡ºåŠ›
â””â”€â”€ supabase/             # Supabaseã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆSQLç­‰ï¼‰
```

---

## ğŸ”§ é–‹ç™ºç’°å¢ƒ

### å¿…è¦ãªãƒ„ãƒ¼ãƒ«
- **Node.js**: 18.x ä»¥ä¸Š
- **npm**: 10.x ä»¥ä¸Š
- **Git**: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

### é–‹ç™ºã‚³ãƒãƒ³ãƒ‰
```bash
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev:server

# ãƒ“ãƒ«ãƒ‰
npm run build

# æœ¬ç•ªèµ·å‹•
npm start

# Lintãƒã‚§ãƒƒã‚¯
npm run lint
```

### ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒå¤‰æ•°
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: `.env.local`ï¼ˆViteï¼‰
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: `backend/.env`ï¼ˆdotenvï¼‰

---

## ğŸ“Š API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### Stripeé–¢é€£
- `POST /api/stripe/create-customer` - é¡§å®¢ä½œæˆ
- `POST /api/stripe/create-setup-intent` - ã‚«ãƒ¼ãƒ‰ç™»éŒ²Intentä½œæˆ
- `POST /api/stripe/confirm-payment-method` - ã‚«ãƒ¼ãƒ‰ç™»éŒ²ç¢ºèª
- `POST /api/stripe/authorize-payment` - æ±ºæ¸ˆä¸ä¿¡
- `POST /api/stripe/set-default-payment-method` - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚«ãƒ¼ãƒ‰è¨­å®š

### ã‚ªãƒ¼ã‚¯ã‚·ãƒ§ãƒ³é–¢é€£
- `POST /api/auctions/finalize-ended` - ã‚ªãƒ¼ã‚¯ã‚·ãƒ§ãƒ³çµ‚äº†å‡¦ç†

### Daily.coé–¢é€£
- `POST /api/calls/create-room` - é€šè©±ãƒ«ãƒ¼ãƒ ä½œæˆ
- `POST /api/calls/join-room` - é€šè©±å‚åŠ 
- `POST /api/calls/end-call` - é€šè©±çµ‚äº†
- `GET /api/calls/status/:purchasedSlotId` - é€šè©±ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å–å¾—

### é™çš„ãƒ•ã‚¡ã‚¤ãƒ«é…ä¿¡
- `/*` - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆExpressçµŒç”±ï¼‰

---

## ğŸŒ å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº

### Google Cloud Platform
- **OAuth 2.0**: Googleèªè¨¼
- **æ‰¿èªæ¸ˆã¿ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURIè¨­å®š**

### ä½¿ç”¨ã—ã¦ã„ã‚‹API
| ã‚µãƒ¼ãƒ“ã‚¹ | API | ç”¨é€” |
|---------|-----|------|
| **Supabase** | REST API | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ |
| **Supabase** | Auth API | èªè¨¼ |
| **Supabase** | Storage API | ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ |
| **Stripe** | REST API | æ±ºæ¸ˆå‡¦ç† |
| **Daily.co** | REST API | ãƒ“ãƒ‡ã‚ªé€šè©±ç®¡ç† |

---

## ğŸ“ ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### TypeScript
- **Strict ãƒ¢ãƒ¼ãƒ‰**: æœ‰åŠ¹
- **å‹å®šç¾©**: `src/types/index.ts`ã§ä¸€å…ƒç®¡ç†
- **å‘½åè¦å‰‡**: camelCaseï¼ˆå¤‰æ•°ãƒ»é–¢æ•°ï¼‰ã€PascalCaseï¼ˆå‹ãƒ»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰

### React
- **é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: Hooksä½¿ç”¨
- **ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ **: 1ãƒ•ã‚¡ã‚¤ãƒ«1ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **ã‚¹ã‚¿ã‚¤ãƒ«**: Tailwind CSSãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **async/await**: Promiseå‡¦ç†
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: try-catchå¿…é ˆ
- **ãƒ­ã‚°å‡ºåŠ›**: console.logï¼ˆå°†æ¥çš„ã«ãƒ­ã‚¬ãƒ¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ¨å¥¨ï¼‰

---

## ğŸ”„ ä»Šå¾Œã®æ‹¡å¼µæ€§

### å®Ÿè£…å¯èƒ½ãªæ©Ÿèƒ½
1. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å…¥æœ­**: Supabase Realtime
2. **ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥**: Firebase Cloud Messaging
3. **ãƒ¡ãƒ¼ãƒ«é€šçŸ¥**: SendGrid, AWS SES
4. **è‡ªå‹•ã‚ªãƒ¼ã‚¯ã‚·ãƒ§ãƒ³çµ‚äº†**: Supabase Cron Jobs
5. **Stripe Connect**: ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ã¸ã®è‡ªå‹•é€é‡‘
6. **éŒ²ç”»æ©Ÿèƒ½**: Daily.co Recording API
7. **ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½**: Daily.co Chat API

---

## ğŸ“š å‚è€ƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [React](https://react.dev/)
- [TypeScript](https://www.typescriptlang.org/)
- [Vite](https://vitejs.dev/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Supabase](https://supabase.com/docs)
- [Stripe](https://docs.stripe.com/)
- [Daily.co](https://docs.daily.co/)
- [Express](https://expressjs.com/)
- [Node.js](https://nodejs.org/)

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

### å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆ
1. `npm install` ã§ä¾å­˜é–¢ä¿‚ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã®ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª
3. ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
4. Herokuã®ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª

### ã‚ˆãã‚ã‚‹å•é¡Œ
- **Supabaseæ¥ç¶šã‚¨ãƒ©ãƒ¼**: ç’°å¢ƒå¤‰æ•°ã®ç¢ºèª
- **Stripeæ±ºæ¸ˆã‚¨ãƒ©ãƒ¼**: APIã‚­ãƒ¼ã¨ãƒ¢ãƒ¼ãƒ‰ã®ç¢ºèª
- **Daily.coæ¥ç¶šã‚¨ãƒ©ãƒ¼**: APIã‚­ãƒ¼ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç¢ºèª
- **ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼**: Node.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ç¢ºèª

---

**æœ€çµ‚æ›´æ–°æ—¥**: 2025å¹´10æœˆ14æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: æœ¬ç•ªç¨¼åƒä¸­ âœ…

